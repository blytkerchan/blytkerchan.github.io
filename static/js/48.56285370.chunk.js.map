{"version":3,"file":"static/js/48.56285370.chunk.js","mappings":"sLAMA,MAkEA,EAlEcA,IAAc,IAAb,IAAEC,GAAKD,EACpB,MAAME,GAAWC,EAAAA,EAAAA,MACjB,IAAIC,EAAY,KAMhB,MAGMC,GAPJD,EADEH,EAAIK,eACMJ,EAASK,KAAKC,UAAU,GAExBN,EAASO,UAKMC,MAFZ,kBAGXC,EAAkBP,EAAUM,MAJZ,kBAKtB,GAAyB,GAArBL,EAAWO,QAAe,CAAC,OAAQ,OAAQ,OAAQ,SAASC,SAASR,EAAW,GAAGS,eACrF,OAAOC,EAAAA,EAAAA,KAAA,OAAKC,IAAKZ,EAAWa,MAAM,SAC7B,GAAyB,GAArBZ,EAAWO,QAAe,CAAC,QAAQC,SAASR,EAAW,GAAGS,eACnE,OACEI,EAAAA,EAAAA,MAAA,SAAOC,UAAQ,EAAAC,SAAA,EACbL,EAAAA,EAAAA,KAAA,UAAQC,IAAKZ,EAAWiB,KAAK,eAAe,sDAI3C,GAAyB,GAArBhB,EAAWO,QAAe,CAAC,QAAQC,SAASR,EAAW,GAAGS,eAAgB,CACnF,MAAQG,MAAOK,EAAaC,OAAQC,IAAiBC,EAAAA,EAAAA,GAAqBC,SAASC,eAAe,eAC1FV,MAAOW,EAAcL,OAAQM,IAAkBJ,EAAAA,EAAAA,GAAqBC,SAASC,eAAe,eACpG,OACEZ,EAAAA,EAAAA,KAAA,OAAKe,MAAO,CAAEP,OAAQC,EAAe,IAAKJ,UACxCL,EAAAA,EAAAA,KAAA,UAAQgB,KAAM3B,EAAWiB,KAAK,kBAAkBJ,MAAOW,EAAe,GAAIL,OAAQC,EAAe,MAGvG,CA4BE,OA3BAQ,MAAM5B,EAAW,CACf6B,OAAQ,MACRC,QAAS,CACP,eAAgB,wBAGjBC,MAAMC,GAAaA,EAASC,SAC5BF,MAAME,IAEL,MAAMC,EAAMC,OAAOC,IAAIC,gBAAgB,IAAIC,KAAK,CAACL,KAC3CM,EAAOjB,SAASkB,cAAc,KACpCD,EAAKE,KAAOP,EACZK,EAAKG,aAAa,WAAW,GAADC,OAAKpC,EAAgB,KAGjDe,SAASsB,KAAKC,YAAYN,GAG1BA,EAAKO,QAGLP,EAAKQ,WAAWC,YAAYT,EAAK,IAElCU,OAAOC,IACNC,SAASD,EAAI,KAIfpC,EAAAA,EAAAA,MAAAsC,EAAAA,SAAA,CAAApC,SAAA,CAAE,aACSL,EAAAA,EAAAA,KAAA,KAAAK,SAAIT,EAAgB,KAAO,mDAG1C,C","sources":["layout/Asset.js"],"sourcesContent":["import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport useError from \"../lib/useError\";\n\nimport useElementDimensions from \"../lib/useElementDimensions\";\n\nconst Asset = ({ env }) => {\n  const location = useLocation();\n  var locallink = null;\n  if (env.useHashRouting) {\n    locallink = location.hash.substring(1);\n  } else {\n    locallink = location.pathname;\n  }\n  const filenameRegex = /^.*\\/([^\\/]+)$/;\n  const extRegex = /^.*(\\.[^\\.]+)$/;\n\n  const extMatches = locallink.match(extRegex);\n  const filenameMatches = locallink.match(filenameRegex);\n  if (extMatches.length == 2 && [\".png\", \".jpg\", \".svg\", \".jpeg\"].includes(extMatches[1].toLowerCase())) {\n    return <img src={locallink} width=\"100%\" />;\n  } else if (extMatches.length == 2 && [\".mp3\"].includes(extMatches[1].toLowerCase())) {\n    return (\n      <audio controls>\n        <source src={locallink} type=\"audio/mpeg\" />\n        Your browser does not support the audio element.\n      </audio>\n    );\n  } else if (extMatches.length == 2 && [\".pdf\"].includes(extMatches[1].toLowerCase())) {\n    const { width: scrollWidth, height: scrollHeight } = useElementDimensions(document.getElementById(\"scrollBox\"));\n    const { width: contentWidth, height: contentHeight } = useElementDimensions(document.getElementById(\"contentBox\"));\n    return (\n      <div style={{ height: scrollHeight - 56 }}>\n        <object data={locallink} type=\"application/pdf\" width={contentWidth - 16} height={scrollHeight - 56}></object>\n      </div>\n    );\n  } else {\n    fetch(locallink, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/binary\",\n      },\n    })\n      .then((response) => response.blob())\n      .then((blob) => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", `${filenameMatches[1]}`);\n\n        // Append to html link element page\n        document.body.appendChild(link);\n\n        // Start download\n        link.click();\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n\n    return (\n      <>\n        The file <b>{filenameMatches[1]}</b> cannot be shown here and is being downloaded.\n      </>\n    );\n  }\n};\n\nexport default Asset;\n"],"names":["_ref","env","location","useLocation","locallink","extMatches","useHashRouting","hash","substring","pathname","match","filenameMatches","length","includes","toLowerCase","_jsx","src","width","_jsxs","controls","children","type","scrollWidth","height","scrollHeight","useElementDimensions","document","getElementById","contentWidth","contentHeight","style","data","fetch","method","headers","then","response","blob","url","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","concat","body","appendChild","click","parentNode","removeChild","catch","err","setError","_Fragment"],"sourceRoot":""}